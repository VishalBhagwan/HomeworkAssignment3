@model HomeworkAssignment3.Models.MaintainViewModel
@{
    ViewBag.Title = "Maintain Data";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<div class="container mt-4">
    <h2 class="text-center mb-4">🛠️ Maintain Data</h2>

    <ul class="nav nav-tabs" id="maintainTabs" role="tablist">
        <li class="nav-item" role="presentation">
            <button class="nav-link active" id="staff-tab" data-bs-toggle="tab" data-bs-target="#staff" type="button" role="tab" aria-controls="staff" aria-selected="true">
                👥 Staff Management
            </button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="customers-tab" data-bs-toggle="tab" data-bs-target="#customers" type="button" role="tab" aria-controls="customers" aria-selected="false">
                👨‍💼 Customers Management
            </button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="products-tab" data-bs-toggle="tab" data-bs-target="#products" type="button" role="tab" aria-controls="products" aria-selected="false">
                🚴 Products Management
            </button>
        </li>
    </ul>

    <div class="tab-content mt-4" id="maintainTabsContent">
        <!-- Staff Tab -->
        <div class="tab-pane fade show active" id="staff" role="tabpanel" aria-labelledby="staff-tab">
            <div class="card">
                <div class="card-header bg-primary text-white">
                    <h5 class="mb-0">👥 Staff Management</h5>
                </div>
                <div class="card-body">
                    @if (Model.StaffList.Any())
                    {
                        <div class="table-responsive">
                            <table class="table table-striped table-bordered table-hover">
                                <thead class="table-dark">
                                    <tr>
                                        <th>ID</th>
                                        <th>First Name</th>
                                        <th>Last Name</th>
                                        <th>Email</th>
                                        <th>Phone</th>
                                        <th>Active</th>
                                        <th>Store</th>
                                        <th>Manager</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @foreach (var item in Model.StaffList)
                                    {
                                        <tr>
                                            <td>@item.staff_id</td>
                                            <td>@item.first_name</td>
                                            <td>@item.last_name</td>
                                            <td>@item.email</td>
                                            <td>@item.phone</td>
                                            <td>
                                                <span class="badge @(item.active == 1 ? "bg-success" : "bg-secondary")">
                                                    @(item.active == 1 ? "Yes" : "No")
                                                </span>
                                            </td>
                                            <td>@(item.store?.store_name ?? "N/A")</td>
                                            <td>@(item.staff1?.first_name ?? "N/A")</td>
                                            <td>
                                                <div class="btn-group btn-group-sm" role="group">
                                                    <button class="btn btn-warning"
                                                            data-bs-toggle="modal"
                                                            data-bs-target="#editStaffModal"
                                                            data-staff-id="@item.staff_id"
                                                            data-first-name="@item.first_name"
                                                            data-last-name="@item.last_name"
                                                            data-email="@item.email"
                                                            data-phone="@item.phone"
                                                            data-active="@item.active"
                                                            data-store-id="@item.store_id"
                                                            data-manager-id="@item.manager_id">
                                                        ✏️ Edit
                                                    </button>
                                                    <button class="btn btn-info"
                                                            data-bs-toggle="modal"
                                                            data-bs-target="#detailsStaffModal"
                                                            data-staff-id="@item.staff_id"
                                                            data-first-name="@item.first_name"
                                                            data-last-name="@item.last_name"
                                                            data-email="@item.email"
                                                            data-phone="@item.phone"
                                                            data-active="@item.active"
                                                            data-store="@(item.store?.store_name)"
                                                            data-manager="@(item.staff1?.first_name)">
                                                        📋 Details
                                                    </button>
                                                    <button class="btn btn-danger"
                                                            data-bs-toggle="modal"
                                                            data-bs-target="#deleteStaffModal"
                                                            data-staff-id="@item.staff_id"
                                                            data-staff-name="@item.first_name @item.last_name">
                                                        🗑️ Delete
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                    }
                                </tbody>
                            </table>
                        </div>
                    }
                    else
                    {
                        <div class="alert alert-info">
                            No staff members found.
                        </div>
                    }
                </div>
            </div>
        </div>

        <!-- Customers Tab -->
        <div class="tab-pane fade" id="customers" role="tabpanel" aria-labelledby="customers-tab">
            <div class="card">
                <div class="card-header bg-success text-white">
                    <h5 class="mb-0">👨‍💼 Customers Management</h5>
                </div>
                <div class="card-body">
                    @if (Model.CustomerList.Any())
                    {
                        <div class="table-responsive">
                            <table class="table table-striped table-bordered table-hover">
                                <thead class="table-dark">
                                    <tr>
                                        <th>ID</th>
                                        <th>First Name</th>
                                        <th>Last Name</th>
                                        <th>Email</th>
                                        <th>Phone</th>
                                        <th>City</th>
                                        <th>State</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @foreach (var item in Model.CustomerList)
                                    {
                                        <tr>
                                            <td>@item.customer_id</td>
                                            <td>@item.first_name</td>
                                            <td>@item.last_name</td>
                                            <td>@item.email</td>
                                            <td>@item.phone</td>
                                            <td>@item.city</td>
                                            <td>@item.state</td>
                                            <td>
                                                <div class="btn-group btn-group-sm" role="group">
                                                    <button class="btn btn-warning"
                                                            data-bs-toggle="modal"
                                                            data-bs-target="#editCustomerModal"
                                                            data-customer-id="@item.customer_id"
                                                            data-first-name="@item.first_name"
                                                            data-last-name="@item.last_name"
                                                            data-email="@item.email"
                                                            data-phone="@item.phone"
                                                            data-street="@item.street"
                                                            data-city="@item.city"
                                                            data-state="@item.state"
                                                            data-zip-code="@item.zip_code">
                                                        ✏️ Edit
                                                    </button>
                                                    <button class="btn btn-info"
                                                            data-bs-toggle="modal"
                                                            data-bs-target="#detailsCustomerModal"
                                                            data-customer-id="@item.customer_id"
                                                            data-first-name="@item.first_name"
                                                            data-last-name="@item.last_name"
                                                            data-email="@item.email"
                                                            data-phone="@item.phone"
                                                            data-street="@item.street"
                                                            data-city="@item.city"
                                                            data-state="@item.state"
                                                            data-zip-code="@item.zip_code">
                                                        📋 Details
                                                    </button>
                                                    <button class="btn btn-danger"
                                                            data-bs-toggle="modal"
                                                            data-bs-target="#deleteCustomerModal"
                                                            data-customer-id="@item.customer_id"
                                                            data-customer-name="@item.first_name @item.last_name">
                                                        🗑️ Delete
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                    }
                                </tbody>
                            </table>
                        </div>
                    }
                    else
                    {
                        <div class="alert alert-info">
                            No customers found.
                        </div>
                    }
                </div>
            </div>
        </div>

        <!-- Products Tab -->
        <div class="tab-pane fade" id="products" role="tabpanel" aria-labelledby="products-tab">
            <div class="card">
                <div class="card-header bg-info text-white">
                    <h5 class="mb-0">🚴 Products Management</h5>
                </div>
                <div class="card-body">
                    @if (Model.ProductList.Any())
                    {
                        <div class="table-responsive">
                            <table class="table table-striped table-bordered table-hover">
                                <thead class="table-dark">
                                    <tr>
                                        <th>ID</th>
                                        <th>Product Name</th>
                                        <th>Brand</th>
                                        <th>Category</th>
                                        <th>Model Year</th>
                                        <th>Price</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @foreach (var item in Model.ProductList)
                                    {
                                        <tr>
                                            <td>@item.product_id</td>
                                            <td>@item.product_name</td>
                                            <td>@item.brand.brand_name</td>
                                            <td>@item.category.category_name</td>
                                            <td>@item.model_year</td>
                                            <td>R @item.list_price</td>
                                            <td>
                                                <div class="btn-group btn-group-sm" role="group">
                                                    <button class="btn btn-warning"
                                                            data-bs-toggle="modal"
                                                            data-bs-target="#editProductModal"
                                                            data-product-id="@item.product_id"
                                                            data-product-name="@item.product_name"
                                                            data-brand-id="@item.brand_id"
                                                            data-category-id="@item.category_id"
                                                            data-model-year="@item.model_year"
                                                            data-list-price="@item.list_price">
                                                        ✏️ Edit
                                                    </button>
                                                    <button class="btn btn-info"
                                                            data-bs-toggle="modal"
                                                            data-bs-target="#detailsProductModal"
                                                            data-product-id="@item.product_id"
                                                            data-product-name="@item.product_name"
                                                            data-brand="@item.brand.brand_name"
                                                            data-category="@item.category.category_name"
                                                            data-model-year="@item.model_year"
                                                            data-list-price="@item.list_price">
                                                        📋 Details
                                                    </button>
                                                    <button class="btn btn-danger"
                                                            data-bs-toggle="modal"
                                                            data-bs-target="#deleteProductModal"
                                                            data-product-id="@item.product_id"
                                                            data-product-name="@item.product_name">
                                                        🗑️ Delete
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                    }
                                </tbody>
                            </table>
                        </div>
                    }
                    else
                    {
                        <div class="alert alert-info">
                            No products found.
                        </div>
                    }
                </div>
            </div>
        </div>
    </div>
</div>

<!-- ================= MODALS ================= -->
<!-- Edit Staff Modal -->
<div class="modal fade" id="editStaffModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header bg-warning text-white">
                <h5 class="modal-title">Edit Staff Member</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
            </div>
            @using (Html.BeginForm("Edit", "staffs", FormMethod.Post))
            {
                @Html.AntiForgeryToken()
                <input type="hidden" id="edit_staff_id" name="staff_id" />
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group mb-3">
                                <label class="form-label fw-bold">First Name</label>
                                <input type="text" class="form-control" id="edit_first_name" name="first_name" required />
                            </div>
                            <div class="form-group mb-3">
                                <label class="form-label fw-bold">Last Name</label>
                                <input type="text" class="form-control" id="edit_last_name" name="last_name" required />
                            </div>
                            <div class="form-group mb-3">
                                <label class="form-label fw-bold">Email</label>
                                <input type="email" class="form-control" id="edit_email" name="email" required />
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group mb-3">
                                <label class="form-label fw-bold">Phone</label>
                                <input type="text" class="form-control" id="edit_phone" name="phone" />
                            </div>
                            <div class="form-group mb-3">
                                <label class="form-label fw-bold">Active</label>
                                <select class="form-select" id="edit_active" name="active" required>
                                    <option value="1">Yes</option>
                                    <option value="0">No</option>
                                </select>
                            </div>
                            <div class="form-group mb-3">
                                <label class="form-label fw-bold">Store</label>
                                <select class="form-select" id="edit_store_id" name="store_id" required>
                                    <option value="">Select Store</option>
                                    @foreach (var store in ViewBag.Stores)
                                    {
                                        <option value="@store.Value">@store.Text</option>
                                    }
                                </select>
                            </div>
                            <div class="form-group mb-3">
                                <label class="form-label fw-bold">Manager</label>
                                <select class="form-select" id="edit_manager_id" name="manager_id">
                                    <option value="">No Manager</option>
                                    @foreach (var manager in ViewBag.Managers)
                                    {
                                        <option value="@manager.Value">@manager.Text</option>
                                    }
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="submit" class="btn btn-warning">Update Staff</button>
                </div>
            }
        </div>
    </div>
</div>

<!-- Edit Customer Modal -->
<div class="modal fade" id="editCustomerModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header bg-warning text-white">
                <h5 class="modal-title">Edit Customer</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
            </div>
            @using (Html.BeginForm("Edit", "customers", FormMethod.Post))
            {
                @Html.AntiForgeryToken()
                <input type="hidden" id="edit_customer_id" name="customer_id" />
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group mb-3">
                                <label class="form-label fw-bold">First Name</label>
                                <input type="text" class="form-control" id="edit_customer_first_name" name="first_name" required />
                            </div>
                            <div class="form-group mb-3">
                                <label class="form-label fw-bold">Last Name</label>
                                <input type="text" class="form-control" id="edit_customer_last_name" name="last_name" required />
                            </div>
                            <div class="form-group mb-3">
                                <label class="form-label fw-bold">Email</label>
                                <input type="email" class="form-control" id="edit_customer_email" name="email" required />
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group mb-3">
                                <label class="form-label fw-bold">Phone</label>
                                <input type="text" class="form-control" id="edit_customer_phone" name="phone" />
                            </div>
                            <div class="form-group mb-3">
                                <label class="form-label fw-bold">Street</label>
                                <input type="text" class="form-control" id="edit_customer_street" name="street" />
                            </div>
                            <div class="form-group mb-3">
                                <label class="form-label fw-bold">City</label>
                                <input type="text" class="form-control" id="edit_customer_city" name="city" />
                            </div>
                            <div class="form-group mb-3">
                                <label class="form-label fw-bold">State</label>
                                <input type="text" class="form-control" id="edit_customer_state" name="state" />
                            </div>
                            <div class="form-group mb-3">
                                <label class="form-label fw-bold">Zip Code</label>
                                <input type="text" class="form-control" id="edit_customer_zip_code" name="zip_code" />
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="submit" class="btn btn-warning">Update Customer</button>
                </div>
            }
        </div>
    </div>
</div>

<!-- Edit Product Modal -->
<div class="modal fade" id="editProductModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header bg-warning text-white">
                <h5 class="modal-title">Edit Product</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
            </div>
            @using (Html.BeginForm("Edit", "products", FormMethod.Post))
            {
                @Html.AntiForgeryToken()
                <input type="hidden" id="edit_product_id" name="product_id" />
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group mb-3">
                                <label class="form-label fw-bold">Product Name</label>
                                <input type="text" class="form-control" id="edit_product_name" name="product_name" required />
                            </div>
                            <div class="form-group mb-3">
                                <label class="form-label fw-bold">Brand</label>
                                <select class="form-select" id="edit_brand_id" name="brand_id" required>
                                    <option value="">Select Brand</option>
                                    @foreach (var brand in ViewBag.Brands)
                                    {
                                        <option value="@brand.Value">@brand.Text</option>
                                    }
                                </select>
                            </div>
                            <div class="form-group mb-3">
                                <label class="form-label fw-bold">Category</label>
                                <select class="form-select" id="edit_category_id" name="category_id" required>
                                    <option value="">Select Category</option>
                                    @foreach (var category in ViewBag.Categories)
                                    {
                                        <option value="@category.Value">@category.Text</option>
                                    }
                                </select>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group mb-3">
                                <label class="form-label fw-bold">Model Year</label>
                                <input type="number" class="form-control" id="edit_model_year" name="model_year" min="2000" max="2030" required />
                            </div>
                            <div class="form-group mb-3">
                                <label class="form-label fw-bold">List Price (R)</label>
                                <input type="text" class="form-control" id="edit_list_price" name="list_price" placeholder="999.99" required />
                                <small class="form-text text-muted">Enter price with decimals (e.g., 999.99)</small>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="submit" class="btn btn-warning">Update Product</button>
                </div>
            }
        </div>
    </div>
</div>

<!-- Details Staff Modal -->
<div class="modal fade" id="detailsStaffModal" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header bg-info text-white">
                <h5 class="modal-title">Staff Details</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <dl class="row">
                    <dt class="col-sm-4">Staff ID:</dt>
                    <dd class="col-sm-8" id="details_staff_id"></dd>

                    <dt class="col-sm-4">First Name:</dt>
                    <dd class="col-sm-8" id="details_staff_first_name"></dd>

                    <dt class="col-sm-4">Last Name:</dt>
                    <dd class="col-sm-8" id="details_staff_last_name"></dd>

                    <dt class="col-sm-4">Email:</dt>
                    <dd class="col-sm-8" id="details_staff_email"></dd>

                    <dt class="col-sm-4">Phone:</dt>
                    <dd class="col-sm-8" id="details_staff_phone"></dd>

                    <dt class="col-sm-4">Active:</dt>
                    <dd class="col-sm-8" id="details_staff_active"></dd>

                    <dt class="col-sm-4">Store:</dt>
                    <dd class="col-sm-8" id="details_staff_store"></dd>

                    <dt class="col-sm-4">Manager:</dt>
                    <dd class="col-sm-8" id="details_staff_manager"></dd>
                </dl>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<!-- Details Customer Modal -->
<div class="modal fade" id="detailsCustomerModal" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header bg-info text-white">
                <h5 class="modal-title">Customer Details</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <dl class="row">
                    <dt class="col-sm-4">Customer ID:</dt>
                    <dd class="col-sm-8" id="details_customer_id"></dd>

                    <dt class="col-sm-4">First Name:</dt>
                    <dd class="col-sm-8" id="details_customer_first_name"></dd>

                    <dt class="col-sm-4">Last Name:</dt>
                    <dd class="col-sm-8" id="details_customer_last_name"></dd>

                    <dt class="col-sm-4">Email:</dt>
                    <dd class="col-sm-8" id="details_customer_email"></dd>

                    <dt class="col-sm-4">Phone:</dt>
                    <dd class="col-sm-8" id="details_customer_phone"></dd>

                    <dt class="col-sm-4">Street:</dt>
                    <dd class="col-sm-8" id="details_customer_street"></dd>

                    <dt class="col-sm-4">City:</dt>
                    <dd class="col-sm-8" id="details_customer_city"></dd>

                    <dt class="col-sm-4">State:</dt>
                    <dd class="col-sm-8" id="details_customer_state"></dd>

                    <dt class="col-sm-4">Zip Code:</dt>
                    <dd class="col-sm-8" id="details_customer_zip_code"></dd>
                </dl>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<!-- Details Product Modal -->
<div class="modal fade" id="detailsProductModal" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header bg-info text-white">
                <h5 class="modal-title">Product Details</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <dl class="row">
                    <dt class="col-sm-4">Product ID:</dt>
                    <dd class="col-sm-8" id="details_product_id"></dd>

                    <dt class="col-sm-4">Product Name:</dt>
                    <dd class="col-sm-8" id="details_product_name"></dd>

                    <dt class="col-sm-4">Brand:</dt>
                    <dd class="col-sm-8" id="details_product_brand"></dd>

                    <dt class="col-sm-4">Category:</dt>
                    <dd class="col-sm-8" id="details_product_category"></dd>

                    <dt class="col-sm-4">Model Year:</dt>
                    <dd class="col-sm-8" id="details_product_model_year"></dd>

                    <dt class="col-sm-4">List Price:</dt>
                    <dd class="col-sm-8" id="details_product_list_price"></dd>
                </dl>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<!-- Delete Modals -->
<!-- Delete Staff Modal -->
<div class="modal fade" id="deleteStaffModal" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header bg-danger text-white">
                <h5 class="modal-title">Delete Staff Member</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
            </div>
            @using (Html.BeginForm("Delete", "staffs", FormMethod.Post))
            {
                @Html.AntiForgeryToken()
                <input type="hidden" id="delete_staff_id" name="id" />
                <div class="modal-body">
                    <p>Are you sure you want to delete staff member: <strong id="delete_staff_name"></strong>?</p>
                    <p class="text-danger">This action cannot be undone.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="submit" class="btn btn-danger">Delete Staff</button>
                </div>
            }
        </div>
    </div>
</div>

<!-- Delete Customer Modal -->
<div class="modal fade" id="deleteCustomerModal" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header bg-danger text-white">
                <h5 class="modal-title">Delete Customer</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
            </div>
            @using (Html.BeginForm("Delete", "customers", FormMethod.Post))
            {
                @Html.AntiForgeryToken()
                <input type="hidden" id="delete_customer_id" name="id" />
                <div class="modal-body">
                    <p>Are you sure you want to delete customer: <strong id="delete_customer_name"></strong>?</p>
                    <p class="text-danger">This action cannot be undone.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="submit" class="btn btn-danger">Delete Customer</button>
                </div>
            }
        </div>
    </div>
</div>

<!-- Delete Product Modal -->
<div class="modal fade" id="deleteProductModal" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header bg-danger text-white">
                <h5 class="modal-title">Delete Product</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
            </div>
            @using (Html.BeginForm("Delete", "products", FormMethod.Post))
            {
                @Html.AntiForgeryToken()
                <input type="hidden" id="delete_product_id" name="id" />
                <div class="modal-body">
                    <p>Are you sure you want to delete product: <strong id="delete_product_name"></strong>?</p>
                    <p class="text-danger">This action cannot be undone.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="submit" class="btn btn-danger">Delete Product</button>
                </div>
            }
        </div>
    </div>
</div>

<!-- JavaScript -->
<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Staff Edit Modal
        const editStaffModal = document.getElementById('editStaffModal');
        if (editStaffModal) {
            editStaffModal.addEventListener('show.bs.modal', function (event) {
                const button = event.relatedTarget;
                document.getElementById('edit_staff_id').value = button.getAttribute('data-staff-id');
                document.getElementById('edit_first_name').value = button.getAttribute('data-first-name');
                document.getElementById('edit_last_name').value = button.getAttribute('data-last-name');
                document.getElementById('edit_email').value = button.getAttribute('data-email');
                document.getElementById('edit_phone').value = button.getAttribute('data-phone');
                document.getElementById('edit_active').value = button.getAttribute('data-active');

                setTimeout(function () {
                    document.getElementById('edit_store_id').value = button.getAttribute('data-store-id') || '';
                    document.getElementById('edit_manager_id').value = button.getAttribute('data-manager-id') || '';
                }, 100);
            });
        }

        // Customer Edit Modal
        const editCustomerModal = document.getElementById('editCustomerModal');
        if (editCustomerModal) {
            editCustomerModal.addEventListener('show.bs.modal', function (event) {
                const button = event.relatedTarget;
                document.getElementById('edit_customer_id').value = button.getAttribute('data-customer-id');
                document.getElementById('edit_customer_first_name').value = button.getAttribute('data-first-name');
                document.getElementById('edit_customer_last_name').value = button.getAttribute('data-last-name');
                document.getElementById('edit_customer_email').value = button.getAttribute('data-email');
                document.getElementById('edit_customer_phone').value = button.getAttribute('data-phone');
                document.getElementById('edit_customer_street').value = button.getAttribute('data-street');
                document.getElementById('edit_customer_city').value = button.getAttribute('data-city');
                document.getElementById('edit_customer_state').value = button.getAttribute('data-state');
                document.getElementById('edit_customer_zip_code').value = button.getAttribute('data-zip-code');
            });
        }

        // Product Edit Modal
        const editProductModal = document.getElementById('editProductModal');
        if (editProductModal) {
            editProductModal.addEventListener('show.bs.modal', function (event) {
                const button = event.relatedTarget;
                document.getElementById('edit_product_id').value = button.getAttribute('data-product-id');
                document.getElementById('edit_product_name').value = button.getAttribute('data-product-name');
                document.getElementById('edit_model_year').value = button.getAttribute('data-model-year');
                document.getElementById('edit_list_price').value = button.getAttribute('data-list-price');

                setTimeout(function () {
                    document.getElementById('edit_brand_id').value = button.getAttribute('data-brand-id') || '';
                    document.getElementById('edit_category_id').value = button.getAttribute('data-category-id') || '';
                }, 100);
            });
        }

        // Details Modals
        // Staff Details
        const detailsStaffModal = document.getElementById('detailsStaffModal');
        if (detailsStaffModal) {
            detailsStaffModal.addEventListener('show.bs.modal', function (event) {
                const button = event.relatedTarget;
                document.getElementById('details_staff_id').textContent = button.getAttribute('data-staff-id');
                document.getElementById('details_staff_first_name').textContent = button.getAttribute('data-first-name');
                document.getElementById('details_staff_last_name').textContent = button.getAttribute('data-last-name');
                document.getElementById('details_staff_email').textContent = button.getAttribute('data-email');
                document.getElementById('details_staff_phone').textContent = button.getAttribute('data-phone') || 'N/A';
                document.getElementById('details_staff_active').textContent = button.getAttribute('data-active') == '1' ? 'Yes' : 'No';
                document.getElementById('details_staff_store').textContent = button.getAttribute('data-store') || 'N/A';
                document.getElementById('details_staff_manager').textContent = button.getAttribute('data-manager') || 'N/A';
            });
        }

        // Customer Details
        const detailsCustomerModal = document.getElementById('detailsCustomerModal');
        if (detailsCustomerModal) {
            detailsCustomerModal.addEventListener('show.bs.modal', function (event) {
                const button = event.relatedTarget;
                document.getElementById('details_customer_id').textContent = button.getAttribute('data-customer-id');
                document.getElementById('details_customer_first_name').textContent = button.getAttribute('data-first-name');
                document.getElementById('details_customer_last_name').textContent = button.getAttribute('data-last-name');
                document.getElementById('details_customer_email').textContent = button.getAttribute('data-email');
                document.getElementById('details_customer_phone').textContent = button.getAttribute('data-phone') || 'N/A';
                document.getElementById('details_customer_street').textContent = button.getAttribute('data-street') || 'N/A';
                document.getElementById('details_customer_city').textContent = button.getAttribute('data-city');
                document.getElementById('details_customer_state').textContent = button.getAttribute('data-state');
                document.getElementById('details_customer_zip_code').textContent = button.getAttribute('data-zip-code') || 'N/A';
            });
        }

        // Product Details
        const detailsProductModal = document.getElementById('detailsProductModal');
        if (detailsProductModal) {
            detailsProductModal.addEventListener('show.bs.modal', function (event) {
                const button = event.relatedTarget;
                document.getElementById('details_product_id').textContent = button.getAttribute('data-product-id');
                document.getElementById('details_product_name').textContent = button.getAttribute('data-product-name');
                document.getElementById('details_product_brand').textContent = button.getAttribute('data-brand');
                document.getElementById('details_product_category').textContent = button.getAttribute('data-category');
                document.getElementById('details_product_model_year').textContent = button.getAttribute('data-model-year');
                document.getElementById('details_product_list_price').textContent = 'R ' + button.getAttribute('data-list-price');
            });
        }

        // Delete Modals
        // Staff Delete
        const deleteStaffModal = document.getElementById('deleteStaffModal');
        if (deleteStaffModal) {
            deleteStaffModal.addEventListener('show.bs.modal', function (event) {
                const button = event.relatedTarget;
                document.getElementById('delete_staff_id').value = button.getAttribute('data-staff-id');
                document.getElementById('delete_staff_name').textContent = button.getAttribute('data-staff-name');
            });
        }

        // Customer Delete
        const deleteCustomerModal = document.getElementById('deleteCustomerModal');
        if (deleteCustomerModal) {
            deleteCustomerModal.addEventListener('show.bs.modal', function (event) {
                const button = event.relatedTarget;
                document.getElementById('delete_customer_id').value = button.getAttribute('data-customer-id');
                document.getElementById('delete_customer_name').textContent = button.getAttribute('data-customer-name');
            });
        }

        // Product Delete
        const deleteProductModal = document.getElementById('deleteProductModal');
        if (deleteProductModal) {
            deleteProductModal.addEventListener('show.bs.modal', function (event) {
                const button = event.relatedTarget;
                document.getElementById('delete_product_id').value = button.getAttribute('data-product-id');
                document.getElementById('delete_product_name').textContent = button.getAttribute('data-product-name');
            });
        }
    });
</script>